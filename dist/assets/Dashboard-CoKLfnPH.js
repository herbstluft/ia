import{A as m}from"./AuthenticatedLayout-B5e6nQwP.js";import{g as r,o as c,b as i,m as f,i as b,F as u,p as h,n as j,h as y,q as d,a as p,w as _}from"./app-CPnB1nz2.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={name:"JarvisAssistant",data(){return{isSpeaking:!1}},methods:{startListening(){if(responsiveVoice.isPlaying()){responsiveVoice.pause(),this.isSpeaking=!1;return}if(!("webkitSpeechRecognition"in window)){alert("Tu navegador no soporta reconocimiento de voz.");return}const s=new window.webkitSpeechRecognition;s.lang="es-MX",s.interimResults=!1,s.onresult=e=>{const t=e.results[0][0].transcript.trim().toLowerCase();if(t==="continua"||t==="contin√∫a"){typeof responsiveVoice<"u"&&(responsiveVoice.resume(),this.isSpeaking=!0);return}this.sendToGemini(t)},s.onerror=e=>{console.error("üé§ Error de micr√≥fono:",e)},s.start()},async sendToGemini(s){const e=document.querySelector('meta[name="csrf-token"]').getAttribute("content");try{const a=await(await fetch("/jarvis/query",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":e},body:JSON.stringify({text:s})})).json();if(a?.error?.code===429){this.speak("Lo siento, he alcanzado el l√≠mite de uso por hoyljdskldjksjdkl fjkljdklfjklds fj ldsjfdkjgk jfkdgk fdjhk gfkhbflvcjblkncfklbjkljcblkjgklbknl gf  jghk jhklf dklhjdklfh j.");return}const n=a.candidates?.[0]?.content?.parts?.[0]?.text||"Sin respuesta";this.speak(n)}catch(t){console.error("‚ùå Error con Laravel proxy:",t)}},speak(s){if(typeof responsiveVoice>"u"){console.warn("‚ùå responsiveVoice no est√° disponible.");return}const e=String(s).replace(/\n/g," ").replace(/["']/g,"").replace(/\s+/g," ").trim();if(!e||e.length<2){console.warn("‚ö†Ô∏è Texto vac√≠o o inv√°lido para s√≠ntesis de voz.");return}this.isSpeaking=!0,responsiveVoice.speak(e,"Spanish Female",{onend:()=>{this.isSpeaking=!1}})}}},x={class:"jarvis"},S={class:"wave-container"},C={key:0,viewBox:"0 0 600 200",class:"wave"},V={class:"particles"};function A(s,e,t,a,n,l){return c(),r("div",x,[i("div",{class:j(["smart-orb",{active:n.isSpeaking}]),onClick:e[0]||(e[0]=(...o)=>l.startListening&&l.startListening(...o))},[e[2]||(e[2]=f('<svg viewBox="0 0 200 200" class="orb-svg"><defs><radialGradient id="orbGradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#00aaff" stop-opacity="1"></stop><stop offset="100%" stop-color="#001f33" stop-opacity="0.2"></stop></radialGradient></defs><circle cx="100" cy="100" r="80" fill="url(#orbGradient)"></circle><circle class="pulse" cx="100" cy="100" r="80"></circle></svg>',1)),i("div",S,[n.isSpeaking?(c(),r("svg",C,e[1]||(e[1]=[i("path",{class:"wave-path",d:"M0,100 C150,50 450,150 600,100"},null,-1)]))):b("",!0)]),i("div",V,[(c(),r(u,null,h(12,o=>i("span",{key:o,class:"particle"})),64))])],2),e[3]||(e[3]=f('<div class="flex flex-wrap gap-4 justify-center p-4"><button class="cb-button"><span>Enviar</span></button><button class="cb-button reverse"><span>Cancelar</span></button></div><div class="cb-tab-group"><div class="cb-tab active"><div>Inicio</div></div><div class="cb-tab"><div>Perfil</div></div><div class="cb-tab"><div>Configuraci√≥n</div></div></div>',2))])}const L=v(w,[["render",A]]),T={name:"Dashboard",components:{AuthenticatedLayout:m,Head:y,JarvisAssistant:L},methods:{}};function G(s,e,t,a,n,l){const o=d("Head"),k=d("JarvisAssistant"),g=d("AuthenticatedLayout");return c(),r(u,null,[p(o,{title:"Dashboard"}),p(g,null,{default:_(()=>[p(k)]),_:1})],64)}const E=v(T,[["render",G]]);export{E as default};
